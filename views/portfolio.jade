extends layout

block content
  #portfolio
    nav
      .selection.container-fluid
        .row
          button.swSelec Selected Works
          .container-fluid
            each collection in selectedCollections
              a=collection.name
        .row
          button.va.vaSelec View All
          .container-fluid.va.vaExt
            .row
              button.selecItem Items
              .itemType.isItem
            .row
              button.selecCol Collections
              .itemType.isCol
    #selectedWorks
      - var infos = ['Type', 'Status', 'Technologies']
      .container-fluid
        each collection in selectedCollections
          .row.work
            .container-fluid.head
              .shift
                <img src=#{collection.image} />
                .name
                  h1=collection.name
                  h5=collection.for
                  h6=collection.date
              .buttonContainer
                .col-lg-6.col
                  a(herf="")
                    button
                      i.ion-stats-bars
                .col-lg-6.col
                  a
                    button
                      i.ion-ios-lightbulb-outline
              
            .container.info
                p=collection.description
                .container-fluid
                  h5 Project Information
                    hr
                  each info in infos
                    +Info(info + ' :', collection[info.toLowerCase()])
                  +InfowButton('Project Size :', collection.collectionSize + ' Item/s', 'View', 'projectSizeView')
                - if (collection.parentTeamData)
                  .container-fluid
                    +InfowButton('Part of Team :', collection.parentTeamData.name, 'More Info', 'teamInfoView')
            - if (collection.parentTeamData)
              .container.info.team.overlay
                h3=collection.parentTeamData.name
                img(src=collection.parentTeamData.logo)
                .container-fluid.teamInfo
                  p.text=collection.parentTeamData.description
                  h5 Team Information
                    hr
                  +Info('Status :', collection.parentTeamData.status)
                  +Info('Members :', collection.parentTeamData.members)
                .close
                  i.ion-ios-close-empty
    #allWorks
      .loading
        .anim
          .dot
          .dot
          .dot
      .itemInfoOverlay
        .loading
          .anim
            .dot
            .dot
            .dot
        .container-fluid
          .row
            .col-lg-9
              h1.title
              p.date
              p.desc
            .col-lg-3
              .buttonContainer
                a.disabled.showcase Showcase View
                a.disabled.parent Parent Collection
                a.disabled.team Team Information
                button.closeOverlay Close
      .container-fluid.allWorkContainer
        .row
          each item in items
            .item(id=item.itemType + ':' + item._id)
              -if(typeof(item.images) == 'object')
                <img src=#{item.image[0]}>
              - else
                <img src=#{item.image}>
              -if(item.itemType == "collection")
                .itemType.isCol
              -else if(item.itemType == "item")
                .itemType.isItem
        

  mixin InfowButton(title, desc, btnTxt, cls)
    .row
      .col-lg-4
        p.title=title
      .col-lg-4
        p=desc
      .col-lg-4.link
        button(class=cls)=btnTxt
  mixin Info(title, desc)
    .row
      .col-lg-4
        p.title=title
      - if(typeof(desc) == 'object')
        .col-lg-8
          each elem in desc
            p=elem
      - else
        .col-lg-8
          p=desc